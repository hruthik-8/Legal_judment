<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>Judgment Predictor</title>
<style>
body { font-family: system-ui, sans-serif; max-width: 900px; margin: 40px auto; }
textarea { width: 100%; height: 160px; }
pre { background: #f6f6f6; padding: 12px; }
.card { border: 1px solid #ddd; padding: 12px; border-radius: 8px; margin: 12px 0; }
</style>
</head>
<body>
  <h1>Judgment Predictor</h1>
  <div class="card">
    <h3>Criminal Prediction</h3>
    <textarea id="facts1" placeholder="Enter criminal case facts..."></textarea><br/>
    <label>Article threshold</label>
    <input id="thr" type="number" min="0" max="1" step="0.05" value="0.5"/>
    <button onclick="predictCriminal()">Predict</button>
    <pre id="out1"></pre>
  </div>

  <div class="card">
    <h3>Civil Plea Prediction</h3>
    <textarea id="facts2" placeholder="Enter civil case facts..."></textarea><br/>
    <input id="plea" placeholder="Plea (e.g., Grant divorce)"/>
    <input id="law" placeholder="Law context (e.g., HMA Section 13(1)(ia))"/>
    <button onclick="predictCivil()">Predict</button>
    <pre id="out2"></pre>
  </div>

<script>
async function predictCriminal(){
  const facts = document.getElementById('facts1').value;
  const thr = parseFloat(document.getElementById('thr').value);
  const res = await fetch('http://localhost:7860/predict_criminal', {
    method:'POST', headers:{'Content-Type':'application/json'},
    body: JSON.stringify({facts: facts, article_threshold: thr})
  });
  const data = await res.json();
  document.getElementById('out1').textContent = JSON.stringify(data, null, 2);
}
async function predictCivil(){
  const facts = document.getElementById('facts2').value;
  const plea  = document.getElementById('plea').value;
  const law   = document.getElementById('law').value;
  const res = await fetch('http://localhost:7860/predict_civil', {
    method:'POST', headers:{'Content-Type':'application/json'},
    body: JSON.stringify({facts, plea, law})
  });
  const data = await res.json();
  document.getElementById('out2').textContent = JSON.stringify(data, null, 2);
}
</script>
</body>
</html>
